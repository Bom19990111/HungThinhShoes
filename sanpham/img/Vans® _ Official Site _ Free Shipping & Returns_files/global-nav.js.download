define(["jquery","wcs.context","pubsub","cms.utilityNav.cart","cms.utilityNav.wishlist"],function(u,r,n){var a;return(a={init:function(){var n=this,a=(u(window),u(".upper"));n.navHeaderSignInURLEnabled=u("#btn-myaccount").hasClass("unav-myaccount-url-js"),n.$unavAccount=u(".unav-myaccount"),n.$unavAccountURL=u(".unav-myaccount-url-js"),n.$unavAccountLabel=n.$unavAccount.find(".unav-myaccount-label-js span").not(".icon"),n.$unavLoyalty=u(".unav-loyalty"),n.$unavLoyaltyJoin=u(".unav-loyalty-join"),n.$unavProgramDashboard=u(".unav-loyalty-program-dashboard"),n.$unavProgramJoin=u(".unav-loyalty-program-join"),n.$unavProgramPoints=u(".loyalty-program-points"),n.$unavSigning=u(".unav-signing"),n.$unavGreeting=u(".unav-greetname"),n.navHeaderSignInLabelEnabled=WCS_CONFIG.get("topnav::navHeaderSignInLabelEnabled"),n.myAccountLabelUser=n.$unavAccount.find(".unav-myaccount-title-js").attr("data-user"),n.myAccountLabelGuest=n.$unavAccount.find(".unav-myaccount-label-js").attr("data-guest"),a.find(".unav-email-sign-up-js").on("click",function(n){n.preventDefault();var a=u(".footer").find("input.email");u("html, body").animate({scrollTop:a.offset().top},500),a.focus()}),n.updateUI();var t=u(".loyalty-enrollment .account-registration-js");return t.on("submit",function(){t.find("#WC_VFMyAccountRegistrationForm_FormInput_email1_In_Register_1").val(t.find("#WC_VFMyAccountRegistrationForm_FormInput_logonId_In_Register_1").val())}),u.pubsub("subscribe","vfdp.login.success",function(){n.updateUI()}),u.pubsub("subscribe","vfdp.register.success",function(){n.updateUI()}),n},updateUI:function(){var n=this,a="";if("R"==r.getUserType()){"1"==r.getLoyaltyOptIn()?(n.$unavLoyalty.removeClass("hidden"),n.$unavProgramPoints.html(r.getLoyaltyPoints())):n.$unavLoyaltyJoin.removeClass("hidden"),!0===n.navHeaderSignInLabelEnabled&&n.$unavAccountLabel.html(n.myAccountLabelUser),n.$unavSigning.show(),n.$unavAccount.show();var t="";u.each(document.cookie.split(/; */),function(){var n=this.split("=");-1<n[0].indexOf("DISPLAYNAME")&&(t=WCS_CONFIG.get("topnav::headerNavGreeting")+n[1].replace(/\+/g," "))}),u("#btn-username span").html(t),n.$unavGreeting.show(),loyaltyUserStatusCookie=r.getLoyaltyProgramStatusCookie(),a="full"==loyaltyUserStatusCookie?(n.$unavProgramDashboard.removeClass("hidden"),"loyaltyDashboardUrl"):(n.$unavProgramJoin.removeClass("hidden"),"loyaltyEnrollmentUrl");var e=u(".btn-myaccount-js");e.attr({href:e.data("account-href")}).removeAttr("data-open-ajax data-open").off("click.zf.reveal")}else!0===n.navHeaderSignInLabelEnabled&&n.$unavAccountLabel.html(n.myAccountLabelGuest),a="loginUrl",n.$unavSigning.hide(),n.$unavGreeting.hide(),n.$unavAccount.show(),n.$unavLoyaltyJoin.removeClass("hidden"),n.$unavProgramJoin.removeClass("hidden");if(!0===n.navHeaderSignInURLEnabled){var o=n.$unavAccountURL.data(a);n.$unavAccountURL.attr("href",o)}}}).init(),a});
//# sourceMappingURL=../../../maps/js/wcs/view/global-nav.hash-4d79f437848f8bff3adf0e3bd70ea9dd.js.map