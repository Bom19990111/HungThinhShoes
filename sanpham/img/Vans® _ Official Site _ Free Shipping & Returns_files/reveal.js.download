define(["jquery","shared.main.plugins"],function(i,n){return{init:function(){return this.events(),this},events:function(){i(document).on("open.zf.reveal",this.onModalOpened.bind(this))},onModalOpened:function(n){var t=this,e=i(n.target);e.find("[data-close]").length<1&&t.addCloseButton(e),(n.currentTarget.hasOwnProperty("Logon")||n.currentTarget.hasOwnProperty("registrationform"))&&t.initSignIn(e),0<i(n.target).find("#loyalty-container").length&&t.initLoyalty()},addCloseButton:function(n){var t=this,e=i('<button class="close-button" data-close type="button"><span aria-hidden="true" class="icon-close"></span></button>');t.closeLabel?(e.attr("aria-label",t.closeLabel),n.append(e)):require(["promise!wcs.lang-msg"],function(){t.closeLabel=window.LANG_MSG["MODAL.LABELS.CLOSE"],t.closeLabel||(t.closeLabel=""),e.attr("aria-label",t.closeLabel),n.append(e)})},initSignIn:function(t){require(["wcs.logon-register-view"],function(n){t.LogonRegisterView()})},initLoyalty:function(){n.loadPlugins({name:"wcs.loyalty-program",selector:"#loyalty-container",initFunction:"init"})}}.init()});
//# sourceMappingURL=../../maps/js/vfdp/reveal.hash-f39fb2f6449f697b01daa3b582457c6f.js.map