define(["jquery"],function(s){return{_components:{},_plugins:{},loadPlugins:function(n){n=Array.isArray(n)?n:[n];var c=[];n.forEach(function(o){var n=o.context||null,e=o.initFunction||null,t=s(o.selector,n),i=o.options||null,u=o.callback||null;if(0<t.length){var r=new s.Deferred;require([o.name],function(n){e&&("function"!=typeof s.fn[e]?console.error(e+" is not defined as a JQuery plugin on",s):t[e](i)),u&&("function"!=typeof u?console.error(u+" is not a function."):u(t,n,i)),r.resolve(o.name)}),c.push(r)}});var o=s.Deferred();return c.length?(s.when.apply(null,c).then(function(n){o.resolve(n)}),o.promise()):s.when([])},findComponents:function(n){var o=n.find("[data-vfdp]").addBack("[data-vfdp]"),e=[];return o.each(function(n){e.push(s(this).data("vfdp"))}),e=e.filter(function(n,o,e){return e.indexOf(n)===o}),this._plugins=e,this._components=o},runComponents:function(n,o){var u=o||this._components;return"string"==typeof(n=o||this._plugins)&&(n=[n]),n.length<=0?(console.warn("Could not run components. No plugins specified and none found in selector cache."),!1):u.length<=0?(console.warn("Could not run components. No component instances specified and none found in selector cache."),!1):void n.forEach(function(n){var o='[data-vfdp="'+n+'"]',e=u.filter(o),t="vfdp."+n,i=n;0<e.length?(console.info("Loading VFDP plugin ",t," for components:",e),require([t],function(n){e[i]()})):console.warn("Tried to run component ",moduleNamename,", but it no longer exists on the page. This likely indicates a race condition.")})},runVFDPPlugins:function(n){n=n||s(document),this.findComponents(n),this.runComponents()},bindRunVFDPPPluginsToEvent:function(n){var o=this;$document=s(document),$document.off(n),$document.on(n,function(n){o.runVFDPPlugins(s(n.target))})},initVFDPPluginEvents:function(){this.bindRunVFDPPPluginsToEvent("open.zf.reveal.vfdp-plugin-loader")}}});
//# sourceMappingURL=../../maps/js/shared/main.plugins.hash-22dcff8c7614650a8c5dbf878cf670ac.js.map