!function(d,r,l){"use strict";FoundationLegacy.libs.topbar={name:"topbar",version:"4.3.2",settings:{index:0,stickyClass:"sticky",custom_back_text:!0,back_text:"Back",is_hover:!0,mobile_show_parent_link:!1,scrolltop:!0,init:!1},init:function(t,s,e){FoundationLegacy.inherit(this,"data_options addCustomRule");var a=this;return"object"==typeof s?d.extend(!0,this.settings,s):void 0!==e&&d.extend(!0,this.settings,e),"string"!=typeof s?(d(".top-bar, [data-topbar]").each(function(){d.extend(!0,a.settings,a.data_options(d(this))),a.settings.$w=d(r),a.settings.$topbar=d(this),a.settings.$section=a.settings.$topbar.find("section"),a.settings.$titlebar=a.settings.$topbar.children("ul").first(),a.settings.$topbar.data("index",0);var t=a.settings.$topbar.parent();t.hasClass("fixed")||t.hasClass(a.settings.stickyClass)?(a.settings.$topbar.data("height",a.outerHeight(t)),a.settings.$topbar.data("stickyoffset",t.offset().top)):a.settings.$topbar.data("height",a.outerHeight(a.settings.$topbar));var s=d("<div class='top-bar-js-breakpoint'/>").insertAfter(a.settings.$topbar);a.settings.breakPoint=s.width(),s.remove(),a.assemble(),a.settings.is_hover&&a.settings.$topbar.find(".has-dropdown").addClass("not-click"),a.addCustomRule(".f-topbar-fixed { padding-top: "+a.settings.$topbar.data("height")+"px }"),a.settings.$topbar.parent().hasClass("fixed")&&d("body").addClass("f-topbar-fixed")}),a.settings.init||this.events(),this.settings.init):this[s].call(this,e)},toggle:function(){var t=this,s=d(".top-bar, [data-topbar]"),e=s.find("section, .section");t.breakpoint()&&(t.rtl?(e.css({right:"0%"}),e.find(">.name").css({right:"100%"})):(e.css({left:"0%"}),e.find(">.name").css({left:"100%"})),e.find("li.moved").removeClass("moved"),s.data("index",0),s.toggleClass("expanded").css("height","")),t.settings.scrolltop?s.hasClass("expanded")?s.parent().hasClass("fixed")&&(t.settings.scrolltop?(s.parent().removeClass("fixed"),s.addClass("fixed"),d("body").removeClass("f-topbar-fixed"),r.scrollTo(0,0)):s.parent().removeClass("expanded")):s.hasClass("fixed")&&(s.parent().addClass("fixed"),s.removeClass("fixed"),d("body").addClass("f-topbar-fixed")):(s.parent().hasClass(t.settings.stickyClass)&&s.parent().addClass("fixed"),s.parent().hasClass("fixed")&&(s.hasClass("expanded")?(s.addClass("fixed"),s.parent().addClass("expanded")):(s.removeClass("fixed"),s.parent().removeClass("expanded"),t.updateStickyPositioning())))},timer:null,events:function(){var n=this;d(this.scope).off(".fndtn.topbar").on("click.fndtn.topbar",".top-bar .toggle-topbar, [data-topbar] .toggle-topbar",function(t){t.preventDefault(),n.toggle()}).on("click.fndtn.topbar",".top-bar li.has-dropdown",function(t){var s=d(this),e=d(t.target);s.closest("[data-topbar], .top-bar").data("topbar");if(e.data("revealId"))n.toggle();else if(!n.breakpoint()){var a,i,p,h,o;if(!n.settings.is_hover||(i=r,p=l,h="modernizr",o=" -webkit- -moz- -o- -ms- ".split(" "),"ontouchstart"in i||i.DocumentTouch&&p instanceof DocumentTouch?a=!0:function(t,s,e,a){var i,o,n,d=p.createElement("div"),r=p.body,l=r||p.createElement("body");if(parseInt(e,10))for(;e--;)(o=p.createElement("div")).id=a?a[e]:h+(e+1),d.appendChild(o);i=["&#173;",'<style id="s',h,'">',t,"</style>"].join(""),d.id=h,(r?d:l).innerHTML+=i,l.appendChild(d),r||(l.style.background="",l.style.overflow="hidden",n=f.style.overflow,f.style.overflow="hidden",f.appendChild(l)),s(d,t),r?d.parentNode.removeChild(d):(l.parentNode.removeChild(l),f.style.overflow=n)}(["@media (",o.join("touch-enabled),("),h,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){a=9===t.offsetTop}),a))t.stopImmediatePropagation(),"A"===e[0].nodeName&&e.parent().hasClass("has-dropdown")&&t.preventDefault(),s.hasClass("hover")?(s.removeClass("hover").find("li").removeClass("hover"),s.parents("li.hover").removeClass("hover")):s.addClass("hover")}}).on("click.fndtn.topbar",".top-bar .has-dropdown>a, [data-topbar] .has-dropdown>a",function(t){if(n.breakpoint()&&d(r).width()!=n.settings.breakPoint){t.preventDefault();var s=d(this),e=s.closest(".top-bar, [data-topbar]"),a=e.find("section, .section"),i=(s.next(".dropdown").outerHeight(),s.closest("li"));e.data("index",e.data("index")+1),i.addClass("moved"),n.rtl?(a.css({right:-100*e.data("index")+"%"}),a.find(">.name").css({right:100*e.data("index")+"%"})):(a.css({left:-100*e.data("index")+"%"}),a.find(">.name").css({left:100*e.data("index")+"%"})),e.css("height",n.outerHeight(s.siblings("ul"),!0)+n.settings.$topbar.data("height"))}}),d(r).on("resize.fndtn.topbar",function(){if(void 0!==n.settings.$topbar){var t,s=n.settings.$topbar.parent("."+this.settings.stickyClass);if(!n.breakpoint()){var e=n.settings.$topbar.hasClass("expanded");d(".top-bar, [data-topbar]").css("height","").removeClass("expanded").find("li").removeClass("hover"),e&&n.toggle()}0<s.length&&(s.hasClass("fixed")?(s.removeClass("fixed"),t=s.offset().top,d(l.body).hasClass("f-topbar-fixed")&&(t-=n.settings.$topbar.data("height")),n.settings.$topbar.data("stickyoffset",t),s.addClass("fixed")):(t=s.offset().top,n.settings.$topbar.data("stickyoffset",t)))}}.bind(this)),d("body").on("click.fndtn.topbar",function(t){0<d(t.target).closest("li").closest("li.hover").length||d(".top-bar li, [data-topbar] li").removeClass("hover")}),d(this.scope).on("click.fndtn",".top-bar .has-dropdown .back, [data-topbar] .has-dropdown .back",function(t){t.preventDefault();var s=d(this),e=s.closest(".top-bar, [data-topbar]"),a=e.find("section, .section"),i=s.closest("li.moved"),o=i.parent();e.data("index",e.data("index")-1),n.rtl?(a.css({right:-100*e.data("index")+"%"}),a.find(">.name").css({right:100*e.data("index")+"%"})):(a.css({left:-100*e.data("index")+"%"}),a.find(">.name").css({left:100*e.data("index")+"%"})),0===e.data("index")?e.css("height",""):e.css("height",n.outerHeight(o,!0)+n.settings.$topbar.data("height")),setTimeout(function(){i.removeClass("moved")},300)})},breakpoint:function(){return d(l).width()<=this.settings.breakPoint||d("html").hasClass("lt-ie9")},assemble:function(){var i=this;this.settings.$section.detach(),this.settings.$section.find(".has-dropdown>a").each(function(){var t=d(this),s=t.siblings(".dropdown"),e=t.attr("href");if(i.settings.mobile_show_parent_link&&e&&1<e.length)var a=d('<li class="title back js-generated"><h5><a href="#"></a></h5></li><li><a class="parent-link js-generated" href="'+e+'">'+t.text()+"</a></li>");else a=d('<li class="title back js-generated"><h5><a href="#"></a></h5></li>');1==i.settings.custom_back_text?a.find("h5>a").html(i.settings.back_text):a.find("h5>a").html("&laquo; "+t.html()),s.prepend(a)}),this.settings.$section.appendTo(this.settings.$topbar),this.sticky()},height:function(t){var s=0,e=this;return t.find("> li").each(function(){s+=e.outerHeight(d(this),!0)}),s},sticky:function(){var t=d(r),s=this;t.on("scroll",function(){s.updateStickyPositioning()})},updateStickyPositioning:function(){var t="."+this.settings.stickyClass,s=d(r);if(0<d(t).length){var e=this.settings.$topbar.data("stickyoffset");d(t).hasClass("expanded")||(s.scrollTop()>e?d(t).hasClass("fixed")||(d(t).addClass("fixed"),d("body").addClass("f-topbar-fixed")):s.scrollTop()<=e&&d(t).hasClass("fixed")&&(d(t).removeClass("fixed"),d("body").removeClass("f-topbar-fixed")))}},off:function(){d(this.scope).off(".fndtn.topbar"),d(r).off(".fndtn.topbar")},reflow:function(){}}}(FoundationLegacy.zj,this,this.document);
//# sourceMappingURL=../../../maps/js/lib/foundation-legacy/foundation.topbar.hash-fe08409363c53a2dc393e0290288fa2e.js.map