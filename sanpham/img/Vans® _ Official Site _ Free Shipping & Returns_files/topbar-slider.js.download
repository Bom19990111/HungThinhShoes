define(["jquery","pubsub","shared.main.screen","shared.main.overlay"],function(t,e,r){function i(t,e){this.element=t,this.options=e}var d,n,s;d=jQuery,n=window,document,s="topbarSlider",i.defaults=(i.prototype={defaults:{},init:function(){var t=this;return t.config=d.extend({},t.defaults,t.options,t.metadata),t.findElements(),t.events(),t},findElements:function(){this.$masterHeader=d(this.element),this.$topbar=this.$masterHeader.find(".top-bar-js, .top-bar-acord-js"),this.$topbarLower=this.$topbar.find(".lower")},_build:function(){},events:function(){var s=this,t=d("> .has-dropdown-js",s.$topbarLower);d("> a:not(.has-dropdown .has-dropdown > a)",t).on("click",function(t){"small"===r.size()&&WCS_CONFIG.get("topnav::mobileScrollToTop")&&(t.preventDefault(),d(n).scrollTop(0))}),s.$topbarLower.find(".back").on("click",function(t){if(t.preventDefault(),!0===WCS_CONFIG.get("topnav::dropdownStackedList")){t.stopImmediatePropagation();var e=d(this),i=e.closest(".has-dropdown-js").parent().closest(".has-dropdown-js");s.resizeTopbarHeight(e),i&&s.setAuxiliaryLinks(i),e.trigger("click.fndtn")}}),d.pubsub("subscribe","window.resize.breakpoint",function(t,e){"small"!==e.now&&s.hideNavPanel()})},showNavPanel:function(){var e=this;d("body").on("click.topbarSlider.dismiss",function(t){0===d(t.target).closest(d(e.element)).length&&(t.preventDefault(),e.hideNavPanel())}),n.main.overlay.show()},hideNavPanel:function(){d("body").off("click.topbarSlider.dismiss"),setTimeout(function(){main.overlay.isActive()||(FoundationLegacy.libs.topbar.toggle(d(".top-bar-js")),d(".top-bar-js").removeClass("expanded"))},250),n.main.overlay.hide()},setAuxiliaryLinks:function(t){if(!0===WCS_CONFIG.get("topnav::dropdownAuxLinksEnabled")&&"small"===r.size()){var e=t.find(".featured-items-list-js"),i=t.find(" > ul");e.css({top:"",height:""}),t.height("initial"),i.height(""),!0===WCS_CONFIG.get("topnav::dropdownStackedList")&&t.find(".sub-cat-lists-js").css("height","");var s,n=i.outerHeight(!0),a=0,o=i.find("> .title").outerHeight();t.find(".featured-items ul li a",e).each(function(){a+=d(this).outerHeight(!0)+d(this).parent().outerHeight(!0)-d(this).parent().height()}),s=n+a,!0===WCS_CONFIG.get("topnav::dropdownStackedList")&&(t.find(".sub-cat-lists-js").height(s-o),t.addClass("aux-height-modified")),i.height(s),e.css("top",n).height(a)}},resizeTopbarHeight:function(t){var e=t.closest("li.moved"),i=e.parent();i.hasClass("sub-cat-lists-js")&&(e.removeClass("moved"),i.parent().addClass("moved"))}}).defaults,d.fn.topbarSlider=function(e){return this.each(function(){var t=d(this).data(s);t||(t=new i(this,e).init(),d(this).data(s,t))})}});
//# sourceMappingURL=../../../maps/js/wcs/topbar/topbar-slider.hash-cbaf01b5d002a226c9846733090c92f3.js.map