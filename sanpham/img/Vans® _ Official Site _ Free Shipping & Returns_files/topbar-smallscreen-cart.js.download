define(["jquery","pubsub","wcs.context"],function(a,t,e){function n(t,e){this.element=t,this.options=e,this.metadata=a(this.element).data("topbar-smallcart-options")}var s="topbarSmallCart";n.defaults=(n.prototype={defaults:{quantitySelector:".nav-shoppingbag-qty-js",classHasProducts:"has-products"},init:function(){var t=this;return t.config=a.extend({},t.defaults,t.options,t.metadata),t.findElements(),t._build(),t.events(),t.update()},_build:function(){},events:function(){var n=this;a.pubsub("subscribe","SHOPCART_UPDATED",function(t,e){n.update()})},update:function(){return this.updateDisplay(this.getCount())},getCount:function(){var t=Number(e.getShoppingCart().quantity);return isNaN(t)?0:t},updateDisplay:function(t){var e=this;return e.$count.text(t),0<t?a(e.element).addClass(e.config.classHasProducts):a(e.element).removeClass(e.config.classHasProducts),e},findElements:function(){var t=this;t.$element=a(t.element),t.$count=a(t.config.quantitySelector,t.$element)}}).defaults,a.fn.topbarSmallCart=function(e){return this.each(function(){var t=a(this).data(s);t||(t=new n(this,e).init(),a(this).data(s,t))})}});
//# sourceMappingURL=../../../maps/js/wcs/topbar/topbar-smallscreen-cart.hash-ad09c8f51de9753cf060dee882e35da7.js.map